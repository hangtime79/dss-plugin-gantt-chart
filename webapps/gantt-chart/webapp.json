{
    "meta": {
        "label": "Gantt Chart",
        "description": "Interactive Gantt chart visualization with task dependencies, progress tracking, and color coding",
        "icon": "icon-calendar"
    },

    "baseType": "STANDARD",
    "hasBackend": "true",
    "noJSSecurity": "true",
    "standardWebAppLibraries": [
        "jquery",
        "dataiku"
    ],

    "chart": {
        "datasetParamName": "dataset",
        "leftBarLabel": "Chart Configuration",
        "topBar": "STD_FORM",
        "topBarParams": [
            {
                "name": "idColumn",
                "type": "DATASET_COLUMN",
                "datasetParamName": "dataset",
                "label": "Task ID",
                "description": "Unique identifier for each task (required for dependencies)",
                "mandatory": true
            },
            {
                "name": "startColumn",
                "type": "DATASET_COLUMN",
                "datasetParamName": "dataset",
                "label": "Start Date",
                "description": "Task start date",
                "mandatory": true
            },
            {
                "name": "endColumn",
                "type": "DATASET_COLUMN",
                "datasetParamName": "dataset",
                "label": "End Date",
                "description": "Task end date",
                "mandatory": true
            }
        ],
        "leftBarParams": [
            {
                "type": "SEPARATOR",
                "label": "Optional Columns"
            },
            {
                "name": "nameColumn",
                "type": "DATASET_COLUMN",
                "datasetParamName": "dataset",
                "label": "Task Name",
                "description": "Display name for each task",
                "mandatory": false
            },
            {
                "name": "progressColumn",
                "type": "DATASET_COLUMN",
                "datasetParamName": "dataset",
                "label": "Progress (%)",
                "description": "Completion percentage (0-100)",
                "mandatory": false
            },
            {
                "name": "dependenciesColumn",
                "type": "DATASET_COLUMN",
                "datasetParamName": "dataset",
                "label": "Dependencies",
                "description": "Comma-separated task IDs that must complete first",
                "mandatory": false
            },
            {
                "name": "colorColumn",
                "type": "DATASET_COLUMN",
                "datasetParamName": "dataset",
                "label": "Color By",
                "description": "Categorical column for color-coding tasks",
                "mandatory": false
            },
            {
                "type": "SEPARATOR",
                "label": "Task Grouping"
            },
            {
                "name": "groupByColumns",
                "type": "DATASET_COLUMNS",
                "datasetParamName": "dataset",
                "label": "Group By",
                "description": "Group tasks hierarchically by these columns. Drag to set grouping order (first = outermost group).",
                "mandatory": false
            },

            {
                "type": "SEPARATOR",
                "label": "Tooltip Fields"
            },
            {
                "name": "tooltipColumns",
                "type": "DATASET_COLUMNS",
                "datasetParamName": "dataset",
                "label": "Additional Fields",
                "description": "Select columns to display in task popup. Drag to reorder.",
                "mandatory": false
            },

            {
                "type": "SEPARATOR",
                "label": "View Settings"
            },
            {
                "name": "viewMode",
                "type": "SELECT",
                "label": "Default View",
                "description": "Initial time scale",
                "mandatory": true,
                "defaultValue": "Week",
                "selectChoices": [
                    {"value": "Hour", "label": "Hour"},
                    {"value": "Quarter Day", "label": "Quarter Day"},
                    {"value": "Half Day", "label": "Half Day"},
                    {"value": "Day", "label": "Day"},
                    {"value": "Week", "label": "Week"},
                    {"value": "Month", "label": "Month"},
                    {"value": "Year", "label": "Year"}
                ]
            },
            {
                "name": "viewModeSelect",
                "type": "BOOLEAN",
                "label": "Show view mode dropdown",
                "description": "Allow users to change time scale",
                "defaultValue": true
            },
            {
                "name": "scrollTo",
                "type": "SELECT",
                "label": "Initial scroll position",
                "defaultValue": "today",
                "selectChoices": [
                    {"value": "today", "label": "Today"},
                    {"value": "start", "label": "First task"},
                    {"value": "end", "label": "Last task"}
                ]
            },
            {
                "name": "sortBy",
                "type": "SELECT",
                "label": "Sort Tasks By",
                "description": "Order tasks are displayed in the chart",
                "defaultValue": "none",
                "selectChoices": [
                    {"value": "none", "label": "Dataset Order"},
                    {"value": "start_asc", "label": "Start Date (Earliest First)"},
                    {"value": "start_desc", "label": "Start Date (Latest First)"},
                    {"value": "end_asc", "label": "End Date (Earliest First)"},
                    {"value": "end_desc", "label": "End Date (Latest First)"},
                    {"value": "name_asc", "label": "Name (A-Z)"},
                    {"value": "name_desc", "label": "Name (Z-A)"},
                    {"value": "duration_asc", "label": "Duration (Shortest First)"},
                    {"value": "duration_desc", "label": "Duration (Longest First)"},
                    {"value": "dependencies", "label": "Dependencies (Topological)"}
                ]
            },
            {
                "name": "showExpectedProgress",
                "type": "BOOLEAN",
                "label": "Show expected progress",
                "description": "Display marker showing where progress should be based on current date",
                "defaultValue": false
            },

            {
                "type": "SEPARATOR",
                "label": "Date Boundaries"
            },
            {
                "name": "chartStartDate",
                "type": "STRING",
                "label": "Fixed Start Date",
                "description": "YYYY-MM-DD format. Leave empty for automatic.",
                "mandatory": false
            },
            {
                "name": "chartEndDate",
                "type": "STRING",
                "label": "Fixed End Date",
                "description": "YYYY-MM-DD format. Leave empty for automatic.",
                "mandatory": false
            },

            {
                "type": "SEPARATOR",
                "label": "Grid Lines"
            },
            {
                "name": "showVerticalGridLines",
                "type": "BOOLEAN",
                "label": "Show vertical grid lines",
                "defaultValue": true
            },
            {
                "name": "showHorizontalGridLines",
                "type": "BOOLEAN",
                "label": "Show horizontal grid lines",
                "defaultValue": true
            },
            {
                "name": "gridLineOpacity",
                "type": "INT",
                "label": "Grid line opacity (%)",
                "defaultValue": 100,
                "minI": 0,
                "maxI": 100
            },

            {
                "type": "SEPARATOR",
                "label": "Appearance"
            },
            {
                "name": "theme",
                "type": "SELECT",
                "label": "Theme",
                "description": "Color theme for the chart",
                "defaultValue": "light",
                "selectChoices": [
                    {"value": "light", "label": "Light"},
                    {"value": "dark", "label": "Dark"},
                    {"value": "auto", "label": "Auto (System)"}
                ]
            },
            {
                "name": "colorPalette",
                "type": "SELECT",
                "label": "Color Palette",
                "description": "Color scheme for task bars",
                "defaultValue": "classic",
                "selectChoices": [
                    {"value": "classic", "label": "Classic (Vibrant)"},
                    {"value": "pastel", "label": "Pastel (Soft)"},
                    {"value": "dark", "label": "Dark Mode"},
                    {"value": "dataiku", "label": "Dataiku"}
                ]
            },
            {
                "name": "barHeight",
                "type": "INT",
                "label": "Bar Height",
                "description": "Height of task bars in pixels",
                "defaultValue": 30,
                "minI": 15,
                "maxI": 60
            },
            {
                "name": "barCornerRadius",
                "type": "INT",
                "label": "Bar Corner Radius",
                "description": "Roundness of bar corners",
                "defaultValue": 10,
                "minI": 0,
                "maxI": 15
            },
            {
                "name": "columnWidth",
                "type": "INT",
                "label": "Column Width",
                "description": "Width of time columns",
                "defaultValue": 45,
                "minI": 25,
                "maxI": 500
            },
            {
                "name": "padding",
                "type": "INT",
                "label": "Padding",
                "description": "Padding between elements",
                "defaultValue": 18,
                "minI": 5,
                "maxI": 40
            },

            {
                "type": "SEPARATOR",
                "label": "Date Display"
            },
            {
                "name": "dateFormat",
                "type": "SELECT",
                "label": "Date Format",
                "description": "Format for dates shown in task popups",
                "defaultValue": "ISO",
                "selectChoices": [
                    {"value": "ISO", "label": "ISO 8601 (2024-12-27)"},
                    {"value": "US", "label": "US (12/27/2024)"},
                    {"value": "EU", "label": "European (27/12/2024)"},
                    {"value": "LONG", "label": "Long (December 27, 2024)"},
                    {"value": "SHORT", "label": "Short (Dec 27)"}
                ]
            },

            {
                "type": "SEPARATOR",
                "label": "Behavior"
            },
            {
                "name": "popupOn",
                "type": "SELECT",
                "label": "Show task details on",
                "defaultValue": "click",
                "selectChoices": [
                    {"value": "click", "label": "Click"},
                    {"value": "hover", "label": "Hover"}
                ]
            },
            {
                "name": "todayButton",
                "type": "BOOLEAN",
                "label": "Show 'Today' button",
                "defaultValue": true
            },
            {
                "name": "highlightWeekends",
                "type": "BOOLEAN",
                "label": "Highlight weekends",
                "defaultValue": false
            },

            {
                "type": "SEPARATOR",
                "label": "Performance"
            },
            {
                "name": "maxTasks",
                "type": "INT",
                "label": "Max tasks to display",
                "description": "0 = unlimited (use with caution on large datasets)",
                "defaultValue": 1000,
                "minI": 0
            }
        ],
        "canFilter": true,
        "canFacet": false
    }
}
