# Release Notes: v0.2.2

**Release Date:** 2025-12-20
**Type:** Bugfix
**Branch:** `bugfix/v0.2.2-fix-filter-init-race`

---

## Summary

This release fixes a critical race condition where Dataiku filters were ignored when the Gantt Chart first loaded. Previously, the chart would render immediately with unfiltered data, only applying filters after a user interaction. Now, the chart correctly waits for the full configuration, ensuring filters are respected from the start.

---

## Changes

### Fixed
- **Filters Ignored on Load** (Race Condition)
  - **Symptom:** Chart displayed all data despite active filters until a filter was changed.
  - **Root Cause:** The webapp initialized synchronously using `dataiku.getWebAppConfig()`, which contains the configuration settings but *not* the current filter state.
  - **Fix:** Removed the synchronous initialization block. The webapp now requests the configuration via `postMessage("sendConfig")` and waits for the parent frame's response, which includes both the config and the active filters.

---

## Files Modified

| File | Change Type | Description |
|------|-------------|-------------|
| `webapps/gantt-chart/app.js` | Modified | Switched to asynchronous initialization flow |
| `plugin.json` | Modified | Version bump to 0.2.2 |

---

## Testing

- **Unit Tests:** Backend tests skipped (unrelated frontend change).
- **Manual Verification:** Verified that:
  - Filters are applied immediately on page load/refresh.
  - Loading spinner appears while waiting for config.
  - Subsequent filter changes continue to work correctly.

---

## Breaking Changes

None.

---

## Known Issues

None.

---

## Dependencies

None.

---

## Related Documents

- Spec: `plan/specs/bugfix-v0.2.2-spec.md`
- Post-mortem: `plan/post-mortems/v0.2.2-post-mortem.md`
