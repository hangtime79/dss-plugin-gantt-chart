# Release Notes: v0.4.3

**Release Date:** 2025-12-24
**Type:** Feature
**Branch:** `feature/v0.4.3-header-enhancements-clean`

---

## Summary

This release adds view mode persistence using localStorage and fixes month label visibility at narrow column widths. Two planned features (#12, #14) were deferred due to technical limitations.

---

## Changes

### Added
- **View mode persistence (#16):** User's selected view mode is now remembered per chart using browser localStorage
  - Dataset names are hashed (djb2 algorithm) for privacy - no sensitive data visible in DevTools
  - Self-healing validation automatically removes invalid entries
  - Persists across page refreshes and browser sessions (per-browser only)

### Fixed
- **Month single-letter visibility (#13):** At narrow column widths (<30px), Month view now displays all 12 single-letter abbreviations (J, F, M, A, M, J, J, A, S, O, N, D) instead of skipping every other label

---

## Deferred Features

| Issue | Title | Reason |
|-------|-------|--------|
| #12 | Year context in Day/Week headers | Cannot infer years from month names alone without access to frappe-gantt internals |
| #14 | Decade format in Year view | Caused instability affecting other views |

---

## Technical Notes

**Critical Discovery:** The `on_view_change` callback receives a mode **object** `{name, padding, step, ...}`, not a string. Must extract `mode.name` before using as string value.

---

## Files Modified

| File | Change Type | Description |
|------|-------------|-------------|
| `webapps/gantt-chart/app.js` | Modified | Added persistence functions, month view exception |
| `plugin.json` | Modified | Version bump 0.4.2 → 0.4.3 |

---

## Testing

- **Manual Verification:**
  - [x] Change view mode → refresh → mode persists
  - [x] Month view at 25px width shows all 12 letters
  - [x] Day/Week views have no regressions
  - [x] Sticky header works correctly
  - [x] All view mode transitions smooth

---

## Breaking Changes

None

---

## Known Issues

No new issues introduced.

---

## Dependencies

None added or changed.

---

## Related Documents

- Intervention Log: `plan/interventions/v0.4.3-intervention.md`
- Abandoned Reference: `plan/interventions/v0.4.3-abandoned-reference.md`
- Spec: `plan/specs/feature-v0.4.3-spec.md`
