# Post-Mortem: v0.8.0

**Branch:** `feature/v0.8.0-headers-and-date-formats`
**Type:** Feature
**Duration:** 1 day (Started: 2025-12-27, Completed: 2025-12-27)
**Outcome:** Success

---

## Summary

Implemented the Headers & Date Formats milestone, delivering 5 enhancements: reduced header height, vertical column separators, consistent year display in upper headers, decade grouping in Year view, and configurable popup date formats. All features passed QA.

---

## Scope

### Planned
- [x] #41: Header height reduction (~30%)
- [x] #50: Vertical separators between header columns
- [x] #12: Year in upper headers across all views
- [x] #14: Decade format in Year view
- [x] #35: Custom date format configuration

### Delivered
All 5 planned features delivered.

### Deferred Items
None

---

## Commit Analysis

| Metric | Value | Assessment |
|--------|-------|------------|
| Total commits | 1 | Single commit after QA |
| Feature commits | 1 | |
| Fix/debug commits | 0 | |
| Reverts | 0 | |
| Churn ratio | 0% | Clean single commit |

---

## What Went Well

- **Spec-first approach**: Creating detailed spec before implementation made the work predictable
- **Iterative QA**: Real-time QA feedback allowed quick adjustments before final commit
- **Single clean commit**: All debugging happened during development session, final commit was clean
- **Recommended implementation order**: Following the spec's suggested order (CSS first, then JS) minimized conflicts

---

## What Didn't Go Well

- **Header separator approach**: Initial SVG line approach failed because `.grid-header` is an HTML div, not SVG group
  - Required pivot to HTML div separators
  - Multiple iterations to get positioning and styling correct

---

## Blockers Encountered

| Blocker | Impact | Resolution | Time Lost |
|---------|--------|------------|-----------|
| SVG lines in HTML div | Separators not visible | Switch to HTML div separators | ~30 min |
| Separator styling | Initial lines "too ugly" | Refined to subtle 12px centered lines | ~15 min |

---

## Technical Discoveries

### Platform Behavior
- (No new Dataiku-specific findings)

### Library Behavior
- **Frappe Gantt `.grid-header` structure**: The grid header is an HTML `<div>` containing absolutely-positioned `<div class="upper-text">` and `<div class="lower-text">` elements, NOT an SVG group. Cannot use SVG `<line>` elements for separators.

### Architecture Insights
- HTML divs with absolute positioning work well for header decorations
- Centering separators with text requires calculating text bounding box

---

## CLI Docs Candidates

Items that should be added to CLAUDE.md gotchas:

1. **Frappe Gantt grid-header structure**: `.grid-header` is an HTML div with absolutely-positioned text divs, not SVG. Header decorations must use HTML elements.

---

## Recommendations

### For Next Release
- Consider adding separator toggle if users want option to disable
- Monitor for any view mode edge cases with separators

### Process Improvements
- None needed - clean execution

### Technical Debt
- None introduced

---

## Lessons Learned

1. When adding visual elements to the header, inspect actual DOM structure first - frappe-gantt mixes HTML and SVG
2. Subtle UI enhancements (separators, spacing) require iterative visual refinement
3. Responsive text formatting needs multiple breakpoints for different column widths
