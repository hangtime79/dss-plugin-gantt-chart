# Post-Mortem: v0.9.5

**Branch:** `feature/v0.9.5-tooltip-polish-ii`
**Type:** Feature
**Duration:** 1 day (Started: 2025-12-29, Completed: 2025-12-29)
**Outcome:** âœ… Success

---

## Summary

Implemented two tooltip enhancements: dependency name resolution (showing task names instead of IDs) and a pinnable tooltip system. The pin feature evolved during QA from single-pinned to multi-pinned with collision avoidance based on user feedback.

---

## Scope

### Planned
- [x] Show task names in dependency tooltips (#65)
- [x] Pin tooltip to keep visible (#68)

### Delivered
- [x] Dependency name resolution with fallback to ID
- [x] Multi-pinned tooltip system (enhanced from original spec)
- [x] Collision avoidance for overlapping tooltips
- [x] Pin/unpin toggle with visual indicator

### Deferred Items
None

---

## Commit Analysis

| Metric | Value | Assessment |
|--------|-------|------------|
| Total commits | 1 | Squashed during development |
| Feature commits | 1 | |
| Fix/debug commits | 0 | |
| Reverts | 0 | |
| Churn ratio | 0% | ðŸŸ¢ Low |

---

## What Went Well

- **Clean Python implementation**: Dependency name resolution was straightforward - simple post-processing loop after task creation
- **Iterative QA refinement**: User feedback during QA led to better multi-tooltip design
- **Inline SVG for icons**: Learned from v0.9.1 post-mortem that FontAwesome doesn't work in Dataiku webapp context - used inline SVG from start

---

## What Didn't Go Well

- **Initial pin design too simple**: Original spec assumed single-pinned tooltip, but user clarified they wanted multiple simultaneous tooltips
- **FontAwesome assumption**: Initially tried `fas fa-thumbtack` class before remembering Dataiku context requires inline SVG

---

## Blockers Encountered

| Blocker | Impact | Resolution | Time Lost |
|---------|--------|------------|-----------|
| FontAwesome icons not rendering | Icons invisible in tooltip | Switched to inline SVG paths | ~15 min |
| Single vs multi-tooltip design | Had to redesign pin system | Created clone-based pinned container | ~30 min |

---

## Technical Discoveries

### Platform Behavior
- Dataiku webapps don't have FontAwesome 5 class support despite it being available for plugin.json icons

### Library Behavior
- Frappe-gantt has single `$popup_wrapper` - supporting multiple tooltips requires creating independent DOM elements

### Architecture Insights
- Clone-based approach for pinned tooltips cleanly separates library-managed popup from user-pinned copies
- Using `pointer-events: none` on container with `pointer-events: auto` on children allows click-through while keeping tooltips interactive

---

## CLI Docs Candidates

1. **Inline SVG for webapp icons**: FontAwesome classes don't work in Dataiku webapp context. Use inline SVG with `fill="currentColor"` for theme compatibility.

---

## Recommendations

### For Next Release
- Consider adding keyboard shortcuts for pin/close (Escape to close all pinned)

### Process Improvements
- Clarify multi-element behaviors upfront in QA script

### Technical Debt
- None introduced

---

## Lessons Learned

1. **Clarify "pin" semantics early**: Single vs multiple pinned items is a fundamental UX decision that affects architecture
2. **Reuse prior learnings**: The FontAwesome-in-SVG issue was already documented in v0.9.1 post-mortem
3. **Clone-based persistence**: When a library manages a singleton element, cloning is cleaner than fighting the library's lifecycle
