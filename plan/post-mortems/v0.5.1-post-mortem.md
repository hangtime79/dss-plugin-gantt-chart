# Post-Mortem: v0.5.1

**Branch:** `bugfix/v0.5.1-visual-polish`
**Type:** Bugfix
**Duration:** 1 day (2025-12-26)
**Outcome:** âœ… Success

---

## Summary

Visual polish patch fixing two CSS issues from v0.5.0: task bar outline removal and progress bar corner bleed. Required iteration to find the right SVG clipPath approach.

---

## Scope

### Planned
- [x] Remove 1px outline from task bars (#27)
- [x] Fix progress bar bleeding outside task bar corners (#28)

### Delivered
Both issues resolved.

---

## Commit Analysis

| Metric | Value | Assessment |
|--------|-------|------------|
| Total commits | 5 | |
| Feature commits | 1 | Initial implementation |
| Fix/debug commits | 4 | Iterations on clipPath approach |
| Reverts | 0 | |
| Churn ratio | 80% | ðŸŸ¡ Expected for visual polish |

High churn ratio is expected for visual fixes that require iteration and user feedback.

---

## What Went Well

- Quick identification of outline vs stroke CSS distinction
- ClipPath approach cleanly solves the corner bleed issue
- User-driven iteration led to optimal solution

---

## What Didn't Go Well

- Initial spec assumed small corner radius (3px), user had large radius (15px)
- Tried sharp rectangle clipPath - caused bleeding into rounded corners
- Required multiple iterations to find acceptable trade-off

---

## Technical Discoveries

### SVG ClipPath for Progress Bars
- ClipPath must match task bar's rounded shape to prevent bleeding
- Progress bar set to rx=0/ry=0, extended beyond bounds, then clipped
- Trade-off: progress bar corners follow task bar curve (slightly rounded)

### Frappe Gantt Progress Bar Creation
- Library creates progress bars with `rx = corner_radius + 2` (non-Safari)
- Must reset rx/ry after library creates the elements

---

## Lessons Learned

1. Visual fixes require user feedback loop - can't assume configuration values
2. SVG clipPath is powerful for constraining element shapes
3. Sometimes the "imperfect" solution (rounded corners from clipPath) is the right trade-off
